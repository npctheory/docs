---
title: 9. Mock Repository
layout: page
parent: DemoAppMvc
nav_order: 9
---

[Models/**IEmployeeRepository.cs**](#modelsiemployeerepositorycs)  
[Models/**MockEmployeeRepository.cs**](#modelsmockemployeerepositorycs)  
[DI Мокапа Репозитория](#di-repository-mockup)  

##### Models/IEmployeeRepository.cs  
```csharp
public interface IEmployeeRepository
{
    Employee GetEmployee(int Id);
    IEnumerable<Employee> GetAllEmployees();
    Employee Add(Employee employee);
}
```
##### Models/MockEmployeeRepository.cs   
```csharp
public class MockEmployeeRepository : IEmployeeRepository
{
    private List<Employee> _employeeList;
    public MockEmployeeRepository()
    {
        _employeeList = new List<Employee>()
        {
            new Employee(){Id = 1, Name = "Mary", Departament = Dept.HR, Email="mary@example.com"},
            new Employee(){Id = 2, Name = "John", Departament = Dept.IT, Email="john@example.com"},
            new Employee(){Id = 3, Name = "Sam", Departament = Dept.IT, Email="sam@example.com"}
        };
    }
    public Employee GetEmployee(int Id)
    {
        return _employeeList.FirstOrDefault<Employee>(e => e.Id == Id);
    }

    public IEnumerable<Employee> GetAllEmployees()
    {
        return _employeeList;
    }

    public Employee Add(Employee employee)
    {
        employee.Id = _employeeList.Max(e => e.Id) + 1;
        _employeeList.Add(employee);
        return employee;
    }
}
```

##### DI Repository Mockup
```csharp
//var builder = WebApplication.CreateBuilder(args);
builder.Services.AddSingleton<IEmployeeRepository, MockEmployeeRepository>();
//builder.Services.AddControllersWithViews();
```