---
title: 12. EF
layout: page
parent: DemoAppMvc
nav_order: 12
---
### Nuget
Установить Microsoft.EntityFrameworkCore.SqlServer
```bash
dotnet add ./DemoAppMvc package Microsoft.EntityFrameworkCore.SqlServer
dotnet add ./DemoAppMvc package Microsoft.EntityFrameworkCore.Tools
```
### appsettings.json
```json
{
  "ConnectionStrings": {
    "DemoAppMvcConnection" : "server=(localdb)\\MSSQLLocalDB;database=DemoAppMvcDb;Trusted_Connection=true"
  }
}
```
### AppDbContext.cs
```csharp
using Microsoft.EntityFrameworkCore;
public class AppDbContext : DbContext
{
    public AppDbContext(DbContextOptions<AppDbContext> options)
    : base(options)
    {
        
    }

    public DbSet<Employee> Employees {get; set;}
}
```

### Program.cs
Получить имя сервера SQL Express - утилита MSSQLLocalDB  
```csharp
using Microsoft.EntityFrameworkCore;
...
builder.Services.AddDbContext<AppDbContext>(options => options.UseSqlServer(
    builder.Configuration.GetConnectionString("DemoAppMvcConnection")
));
```
### Миграции
```bash
dotnet ef migrations add "init"
dotnet ef database update
```
### Сид