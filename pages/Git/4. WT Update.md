---
title: 4. Откатить WT до коммита
layout: page
parent: Git
nav_order: 4
---
**Откатить отдельный файл до ласт-коммита(текущей HEAD)**  
 `git reset -- <pathspec>` Сбрасывает состояние файла в индексе до состояние в HEAD.  

**Откатить отдельный файл до коммита xxxx**  
Используется для отката отдельных файлов до коммита.  
Всё, что после `--` воспринимается как путь.  
`git checkout xxxx -- <pathspec>` Откатывает состояние в WT файла до состояния в коммите xxxx, и сразу добавляет новое состояние файла в индекс.  
`git checkout xxxx -- index.html` Откатить index.html до xxxx + Добавить новую версию в индекс. То же что git checkout xxxx index.html  
`git reset -- index.html` Отмена индексирования index.html, будет возвращен в состояние HEAD.  


`git checkout @ -- index.html` то же самое  
`git checkout @~~~~ -- Program.cs` //Откатить Program.cs на 4 коммита назад  
`git checkout @~4`  
`git checkout -` Переключиться на предыдующую ветку  

**Откат всю WT до коммита xxxx + переместить HEAD**  
`git checkout -f` Отменить все изменения WT, отменить весь текущий коммит. untracked не трогает.  
`git checkout -f HEAD` То же самое.   

`git checkout master` Обновить WT до состояние ласт-коммита master. Поставить HEAD на master.  
`git checkout --force master` Игнорировать изменения в текущей WT, обновить WT до состояния ласт-коммита master. Поставить HEAD на master.  


**Git Rm**  
Удаляет файлы и папки в текущем коммите \[и рабочей директории\]  
`git rm -r src` Удалить и из рабочей директории из текущего коммита папку со всеми вложениями  
То же что `rm -r src` + `git add src`  
`git rm -r --cached index.md` Удалить src только из индекса, без рабочей директории  
`git rm -f index.md` Удалить файл. Игнорировать предупреждение, что он modified.  

**Git Mv**  
Переименовать файл и в рабочей директории и в индексе текущего коммита 
`git mv index.html index.md` Переименовать index.html в index.md

**Git Stash**  
`git stash` Сохраняет состояние WT. Использовать перед например git checkout. 
`git stash pop` Восстанавливает WT из стэша.  

